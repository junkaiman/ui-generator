# UI Generator Previewer Design Document

## Overview
The UI Generator Previewer will take the HTML, CSS, and JavaScript code generated by the LLM into an editor and create a live preview of their code execution. It can also take user inputs for editing the code. The previewer is built using React and TypeScript, integrating the React Live library for live code evaluation and Monaco Editor for code input.

## Goals
- Provide a user-friendly code editor.
- Display a live preview of HTML, CSS, and JavaScript code.
- Handle and display errors in real-time.

## Input
- **LLM generated Input**: The HTML, CSS, and JavaScript code generated by the LLM.
- **User Code Input**: The code inputed by the user.

## Output
- **Live Preview**: The rendered output of the provided HTML, CSS, and JavaScript.
- **Error Messages**: Any syntax or runtime errors encountered during code execution are displayed.

## Module Overview

### 1. CodeEditor Module
- **Description**: Handles user input through Monaco Editor.
- **Interface**:
  - `getEditorContent(): string` – Retrieves the current code from the editor.
  - `setEditorContent(newContent: string): void` – Updates the code in the editor.
  - `onChange(callback: (newCode: string) => void): void` – Calls a callback when the code changes.
- **Flow**:
  - The code editor is initialized with default content (HTML, CSS, and JavaScript).
  - When the user types, the editor captures the changes and passes the updated code to the CodePreviewer.

### 2. PreviewRenderer Module
- **Description**: Renders the live preview of user-provided HTML, CSS, and JavaScript.
- **Interface**:
  - `renderPreview(code: string): void` – Renders the provided code in the live preview.
  - `clearPreview(): void` – Clears the current preview display.
  - `showError(error: string): void` – Displays an error message in the preview area.
- **Flow**:
  - The PreviewRenderer listens for code updates and re-renders the preview whenever changes are detected.

### 3. ErrorHandler Module
- **Description**: Manages and displays error messages resulting from invalid code.
- **Interface**:
  - `logError(error: string): void` – Logs an error message.
  - `clearErrors(): void` – Clears all stored error messages.
  - `display(): void` – Displays the logged error messages in the UI.
- **Flow**:
  - If an error occurs during the preview rendering, it is passed to the ErrorHandler which logs and displays the error.

### 4. CodePreviewer Component
- **Description**: Combines the CodeEditor, PreviewRenderer, and ErrorHandler to manage the overall code preview process.
- **Interface**:
  - `startPreviewing(): void` – Starts the live preview, syncing code from the editor to the preview.
  - `stopPreviewing(): void` – Stops the live preview.
  - `onUserCodeInput(newCode: string): void` – Handles user input and triggers updates to the preview.
- **Flow**:
  - This is the primary component that ties everything together. It manages the flow of user code input, preview rendering, and error handling.
